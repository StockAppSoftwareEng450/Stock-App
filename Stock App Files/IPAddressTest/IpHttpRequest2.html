<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>

        <!-- Jquery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    </head>

    <body>

    <h3> Returns Country of Origin from users IP Address</h3>
    <p id="demo"></p>

        <script>

            //inner box

            function profileloader()
            {
                profile = []; // no "var" makes this global in scope
                profile[0] = "Joe";
                profile[1] = "Bloggs";
                profile[2] = "images/joeb/pic.jpg";
                profile[3] = "Web Site Manager";
            }
            profileloader(); // mandatory
            document.write("Firstname is: " + profile[0]);

            function pressme(){
                $.getJSON('//freegeoip.net/json/?callback=?', function (data) {
                    console.log(JSON.stringify(data, null, 2));

                    //Testing to see if response returns correctly
                    var response = (data);
                    console.log(response);
                    resultResponse = response.country_name;

                    document.getElementById("demo").innerHTML = response.country_name + " " + response.ip;

                    console.log(resultResponse);
                    return resultResponse;
                });
            }

            var p = pressme();

            //document.write("Country is: " + resultArray[0]);
            document.write("Country is: " + resultResponse);


        </script>
    </body>
</html>
<!DOCTYPE html>
<html>

<head>
  <title>Display IP Address</title>
</head>

<body>
  <!-- testing the HTTP Request -->
  <script>
    //init the request
    var xhr = new XMLHttpRequest();
    // Make true for asynchronous request
    xhr.open('GET', "https://ipinfo.io/json", true);
    //This sends the request
    xhr.send();
    // This notifies us of when the request comes back
    xhr.addEventListener("readystatechange", processRequest, false);

    //Next we need process the Request we just recieved
    function processRequest(e) {
      /*   readyState 4 is equal to done and status code 200
           means that the request is OK */
      if (xhr.readyState == 4 && xhr.status == 200) {
        //Reading the body of the response
        var response = JSON.parse(xhr.responseText);
        // .ip is the response sent back
        alert(response);
        //  dislaying to the console for debugging
        console.log(response);
      }
    }
  </script>
</body>
</html>
